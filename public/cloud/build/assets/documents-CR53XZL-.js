document.addEventListener("DOMContentLoaded",function(){window.previewImage=function(i,t){const e=i.files[0],n=document.getElementById(t);if(e&&n){const o=new FileReader;o.onload=function(a){n.src=a.target.result,n.classList.remove("hidden")},o.readAsDataURL(e)}},window.validateFile=function(i,t=2){const e=i.files[0],n=t*1024*1024;return e?e.size>n?(showToast(`File terlalu besar. Maksimal ${t}MB.`,"error"),i.value="",!1):["image/jpeg","image/jpg","image/png","application/pdf"].includes(e.type)?!0:(showToast("Format file tidak didukung. Gunakan JPG, PNG, atau PDF.","error"),i.value="",!1):!1},window.handleFileUpload=function(i,t,e=2){validateFile(i,e)&&(previewImage(i,t),showToast("File berhasil dipilih.","success"))},window.removeFile=function(i,t){const e=document.getElementById(i),n=document.getElementById(t);e&&(e.value=""),n&&n.classList.add("hidden"),showToast("File berhasil dihapus.","info")},typeof window.showToast>"u"&&(window.showToast=function(i,t="info"){const e=document.createElement("div");e.className=`fixed top-4 right-4 z-50 px-6 py-3 rounded-lg shadow-lg transform transition-all duration-300 translate-x-full ${t==="success"?"bg-green-500 text-white":t==="error"?"bg-red-500 text-white":"bg-blue-500 text-white"}`,e.textContent=i,document.body.appendChild(e),setTimeout(()=>{e.classList.remove("translate-x-full")},100),setTimeout(()=>{e.classList.add("translate-x-full"),setTimeout(()=>{document.body.removeChild(e)},300)},3e3)}),document.querySelectorAll('input[type="file"]').forEach(i=>{i.addEventListener("change",function(){const t=this.getAttribute("data-preview"),e=this.getAttribute("data-max-size")||2;t&&handleFileUpload(this,t,e)})}),document.querySelectorAll("[data-remove-file]").forEach(i=>{i.addEventListener("click",function(){const t=this.getAttribute("data-input"),e=this.getAttribute("data-preview");t&&e&&removeFile(t,e)})})});
